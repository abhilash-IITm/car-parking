<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Admin Dashboard | Vehicle Parking App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_dashboard.css') }}">
</head>
<body>

<header>
    <div class="profile-pic">
        {{ username[0] | upper }}
    </div>
    <div class="profile-details">
        <div class="profile-name">{{ name }}</div>
        <div class="profile-username">@{{ username }}</div>
    </div>
    <a class="logout-button" href="{{ url_for('auth.logout') }}">logout</a>
</header>

<main>
    <!-- Analytics Block -->
    <section class="analytics" aria-label="Parking analytics summary">
        <div class="analytic-item">
            <h3>{{ total_wheels_occupied }}</h3>
            <p>Wheels Occupied</p>
        </div>
        <div class="analytic-item">
            <h3>{{ occupancy_percent }}%</h3>
            <p>Occupied Percentage</p>
        </div>
        <div class="analytic-item">
            <h3>${{ revenue_per_minute }}</h3>
            <p>Revenue / Minute</p>
        </div>
    </section>

    <!-- Parking Spots Grid -->
    <section class="parking-spots-grid" aria-label="Grid of parking lots and occupancy">
        {% for lot in parking_lots %}
        <a href="{{ url_for('admin.lot_list', lot_id=lot.id) }}" class="parking-spot-card-link" aria-label="View details of {{ lot.location_name }}">
            <article class="parking-spot-card">
                <div class="parking-spot-title">{{ lot.location_name }}</div>
                <div class="parking-spot-subtitle">{{ lot.pin_code }}</div>
                <div class="parking-spot-occupancy">
                    {{ lot.occupied_wheels }} / {{ lot.max_wheels }} wheels occupied
                </div>
            </article>
        </a>
        {% else %}
        <p>No parking lots available.</p>
        {% endfor %}
    </section>

    <!-- Create Parking Lot Button -->
    <a href="{{ url_for('admin.create_parking_lot') }}" class="create-lot-button" role="button">Create Parking Lot</a>
</main>

</body>
</html>
